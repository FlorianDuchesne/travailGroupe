{% extends 'base.html.twig' %}

{% block title %}Hello CategorieController!
{% endblock %}

{% block body %}
	<div class="container">

		<h1 class="text-center m-3">
			Liste des catégories</h1>
		{% if is_granted("ROLE_ADMIN") %}

			<button type="button" class="btn btn-success">
				<a class=" text-white" href="{{ path('categorie_add') }}">Ajouter une catégorie</a>
			</button>
		{% endif %}

		<table class="table table-hover">
			<thead>
				<tr>
					<th scope="col">Nom de la catégorie</th>
					{% if is_granted("ROLE_ADMIN") %}

						<th scope="col">Modifier</th>
						<th scope="col">Supprimer</th>
					{% endif %}

				</tr>
			</thead>
			<tbody>
				{% for categorie in categories %}
					<tr>
						<td>
							<a class="text-body" href="{{ path('categorie_show', {id: categorie.id}) }}">{{ categorie.nom }}</a>
						</td>
						{% if is_granted("ROLE_ADMIN") %}

							<td>
								<button type="button" class="btn btn-success">
									<a class=" text-white" href="{{ path('categorie_edit', {'id':categorie.id}) }}"><i class="fas fa-edit"></i></a>
								</button>
							</td>
							<td>
								<button type="button" class="btn btn-danger" onclick="alert()">
									<a class=" text-white" href="{{ path('categorie_delete', {'id':categorie.id}) }}"><i class="fas fa-trash-alt"></i></a>
								</button>
							</td>
						{% endif %}

					</tr>
				{% endfor %}

			</tbody>
		</table>

	</div>
{% endblock %}
