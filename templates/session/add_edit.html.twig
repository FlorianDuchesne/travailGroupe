{% extends 'base.html.twig' %}

{% block title %}Ajout session
{% endblock %}

{% block body %}
	{# si je suis en mode edit alors ce sera modification #}
	{% if editMode %}
		<h1 class="text-center m-3">Modification d'une session</h1>
	{% else %}
		{# sinon ce sera un mode ajout #}
		<h1 class="text-center m-3">Ajout d'une session</h1>
	{% endif %}
	<div class="m-auto col-3">

		{% for message in app.flashes('warningStagiaires') %}
			<div class="alert alert-danger">
				{{ message }}
			</div>
		{% endfor %}

		{# ici j'appelle l'intégralité du formulaire  #}
		{{ form_start(formAddSession) }}

		{{ form_row(formAddSession.formation) }}
		{{ form_row(formAddSession.dateDebut) }}
		{{ form_row(formAddSession.dateFin) }}
		{{ form_row(formAddSession.nbPlaces) }}

		<ul id="stagiaires" data-prototype="{{ form_row(formAddSession.inscrit.vars.prototype) |e }}">

			{% for stagiaire in formAddSession.inscrit %}

				<li class="stagiaire">

					{{ form_row(stagiaire) }}

				</li>
			{% endfor %}

		</ul>

		<ul id="modules" data-prototype="{{ form_row(formAddSession.programmeSession.vars.prototype) |e }}">

			{% for module in formAddSession.programmeSession %}

				<li class="module">

					{{ form_row(module) }}

				</li>
			{% endfor %}

		</ul>

		{{ form_row(formAddSession.Envoyer) }}

		{{ form_end(formAddSession) }}
	</div>
{% endblock %}
{% block javascripts %}

	{{ parent() }}

	<script src="/js/collectionHandler.js"></script>
	<script src="/js/moduleCollectionHandler.js"></script>

{% endblock %}
