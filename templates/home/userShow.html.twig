{% extends 'base.html.twig' %}

{% block title %}Hello HomeController!
{% endblock %}

{% block body %}
	<div class="container">
		<div class="card" style="width: 18rem;">

			<div class="card-body">
				<h2 class="card-title">Profil de:
					{{ user.pseudo }}
				</h2>
				<p class="card-text">
					Identité:
					{{ user.prenom ~ ' ' ~ user.nom }}<br>
				</p>
				<p class="card-text">
					Email:
					{{ user.email }}<br>
				</p>
				<p class="card-text">
					Inscrit depuis le:
					{{ user.dateEntree | date('d/m/Y') }}<br>
				</p>
			</div>
		</div>
		<div>
			{% if is_granted("ROLE_ADMIN")  %}
				<button class="btn btn-info">
					<a class="text-white" href="{{ path('usersList') }}">Retour à la liste</a>
				</button>
			{% endif %}

			{% if user == app.user %}

				<button class="btn btn-info">
					<a class="text-white" href="{{ path('editProfil', {id:app.user.id}) }}">Modifier profil</a>
				</button>

				<button class="btn btn-warning">
					<a class="text-white" data-toggle="modal" data-target="#exampleModal" {# href="{{ path('deleteProfil', {id:app.user.id}) }}" #}>Supprimer le compte</a>
				</button>

			{% endif %}

			<!-- Button trigger modal -->
			{# <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
																												Launch demo modal
																											</button> #}

			<!-- Modal -->
				<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"> <div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title text-danger" id="exampleModalLabel">Action irréversible</h5>
							<button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
						</div>
						<div class="modal-body">
							Êtes-vous bien sûr de vouloir effectuer cette suppression irréversible ?
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
							<a class="btn btn-primary" href="{{ path('deleteProfil', {id:app.user.id}) }}">Supprimer le compte</a>
							{# <button type="button" class="btn btn-primary">Save changes</button> #}
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>


{% endblock %}
